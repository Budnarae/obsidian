
---

#network #c #socket_programming #linux

*스트림의 절반만 닫는다*

---

파일 및 표준 입출력, 그리고 현재 다루고 있는 네트워크 프로그램밍에서 흔히 등장하는 개념인 **스트림**은 **물의 흐름**을 의미한다. 그런데 물의 흐름은 한쪽 방향으로만 형성된다. 마찬가지로 소켓의 스트림 역시 한쪽 방향으로만 데이터의 이동이 가능하기 때문에 양방향 통신을 위해서는 다음 그림에서 보이듯이 두 개의 스트림이 필요하다.

![[소켓을 기반으로 생성되는 두 개의 스트림.png | 600]]

*한 소켓의 입력 스트림은 맞은편  소켓의 출력 스트림으로 이어진다.*

이번 문서에서 다루는 **Half-close**는 한 번에 두 개의 스트림을 모두 끊어버리는 게 아닌, 이 중 하나의 스트림만 끊는 것이다. 리눅스의 close()는 두 스트림을 동시에 끊어버리기 때문에 우아한 연결종료와는 거리가 멀다.



---

참고자료

#참고도서/윤성우의_열혈_TCP_IP_소켓_프로그래밍

---