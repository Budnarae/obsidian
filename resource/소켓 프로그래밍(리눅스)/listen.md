
---

#network #c #socket_programming #linux

*연결 요청 대기 상태로의 진입*

---

[[bind]]의 함수호출을 통해서 소켓에 주소까지 할당했다면, 이번에는 **listen**의 호출을 통해서 **연결 요청 대기 상태**로 진입해야 한다. 그리고 listen 함수가 호출되어야 클라이언트가 연결요청을 할 수 있는 상태가 된다. 즉, listen 함수가 호출되어야 클라이언트는 연결요청을 위해서 connect 함수를 호출할 수 있다(이전에 connect 함수가 호출되면 오류 발생).

```c
#include <sys/socket.h>

int listen(int sock, int backlog);
```

- sock : 연결 요청 대기 상태에 두고자 하는 소켓의 파일 디스크립터 전달, 이 함수의 인자로 전달된 디스크립터의 소켓이 서버 소켓(리스닝 소켓)이 된다.
- backlog : 연결 요청 대기 큐(Queue)의 크기 정보 전달. 5가 전달되면 큐의 크기가 5가 되어 클라이언트의 연결 요청을  5개까지 대기시킬 수 있다.

---

참고자료

#참고도서/윤성우의_열혈_TCP_IP_소켓_프로그래밍

---