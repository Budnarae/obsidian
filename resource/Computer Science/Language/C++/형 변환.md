
---

#language #cpp 

*type-casting*

---

#### 개요

c++에서는 c 스타일의 형 변환 연산자를 가리켜 '오래된 C 스타일 형 변환 연산자(Old C-style cast operator)'라 부르기도 한다. 이렇듯 c 스타일의 형 변환 연산자는 c 언어와의 호환성을 위해서 존재할 뿐, c++에서는 새로운 형 변환 연산자와 규칙을 제공하고 있다.

c 스타일의 형 변환 연산자는 그 기능이 강력해서, 아래와 같이 형 변환이 일어나면 안 되는 케이스에서도 형변환이 일어날 수 있다.

```cpp

class Car
{
	//생략
};

class Truck : public Car
{
	//생략
};

int main(void)
{
	Car *pcar1 = new Truck(80, 200);
	Truck *ptruck1 = (Truck *)pcar1; //문제 없어 보이는 형 변환
	
	Car *pcar2 = new Car(120);
	Truck *ptruck2 = (Truck *)pcar2; //문제가 바로 보이는 형 변환
}

```

기초 클래스의 포인터 형을 유도 클래스의 포인터 형으로 형 변환하는 것은 일반적인 경우의 형 변환이 아님에도 불구하고, 형 변환 연산자의 기능이 너무 강력하여 형 변환이 이루어지는 모습이다.

이러한 문제점 때문에 c++ 에서는 다음과 같이 4개의 연산자를 추가로 제공하면서 용도에 맞는 형 변환 연산자의 사용을 유도하고 있다.

---

참고자료

[윤성우의 열혈 c++ 프로그래밍](https://product.kyobobook.co.kr/detail/S000001589147)

---